# B站BV号批量获取器

一个Chrome扩展，用于快速获取B站视频的BV号，并提供直观的视觉标记以区分已复制的视频。

![扩展图标](icons/icon128.png)

## 功能特性

- **一键复制BV号**：点击视频封面即可复制BV号，无需打开视频页面
- **视觉区分已复制视频**：已复制的视频会自动添加绿色勾号标记，方便您识别
- **历史记录管理**：自动保存复制过的BV号，支持一键复制全部历史记录
- **便捷模式切换**：随时切换"BV获取模式"和"正常浏览模式"
- **稳定可靠**：增强型错误处理，即使在扩展重新加载后也能保持功能稳定

## 安装方法

### 手动安装（开发版）

1. 下载本仓库代码并解压
2. 打开Chrome浏览器，进入扩展管理页面（`chrome://extensions/`）
3. 开启右上角"开发者模式"
4. 点击"加载已解压的扩展程序"
5. 选择解压后的扩展文件夹

## 使用方法

1. 在B站页面上，点击扩展图标打开控制面板
2. 点击"开启BV获取模式"按钮
3. 浏览B站视频列表，点击想要获取BV号的视频封面
4. BV号将自动复制到剪贴板，并在视频上添加绿色勾号标记
5. 您可以随时在扩展面板查看已复制的BV号历史记录

### 使用小技巧

- 扩展右下角的小圆点显示连接状态（绿色=正常，红色=需要刷新页面）
- 清空列表按钮可以同时清除历史记录和页面上的视觉标记
- 页面刷新或扩展更新后，已复制的视频仍会保持绿色标记

## 常见问题解答

**Q: 为什么点击视频没有复制BV号？**  
A: 请确保您已开启"BV获取模式"，或者尝试刷新页面后重试。

**Q: 扩展不工作了怎么办？**  
A: 点击扩展图标，如果看到红色指示灯，请点击"刷新页面重新激活扩展"按钮。

## 技术架构

- 采用Chrome扩展Manifest V3规范
- 内容脚本处理页面交互和视觉标记
- 后台脚本监控扩展状态和连接管理
- 本地存储保存用户历史记录和设置

## 开发


### 项目结构

```
├── manifest.json        // 扩展声明文件
├── background.js        // 后台脚本
├── contentScript.js     // 内容脚本
├── contentStyle.css     // 内容样式
├── popup.html           // 弹出窗口HTML
├── popup.js             // 弹出窗口脚本
└── icons/               // 扩展图标
```

## 隐私声明

本扩展不会收集任何个人信息或浏览数据。所有操作均在本地完成，没有远程数据传输。

## 许可证

[MIT](LICENSE)

## 更新日志

### 版本 1.1

- 新增已复制视频的视觉标记功能
- 增强扩展稳定性，解决"Extension context invalidated"错误
- 添加连接状态指示器和自动恢复机制
- 优化复制功能的兼容性

### 版本 1.0

- 初始版本发布
- 基本BV号获取功能
- 历史记录管理 